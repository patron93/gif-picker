<<<<<<< HEAD
$(function(){var t=$(".start"),e=$("#page"),o={amountStartItems:20,amountLoadedItem:20,amountPopularTags:25},s={count:o.amountStartItems,gifCol:gifObj.items,loadContent:function(t){var e=$(document).height(),o=$(".position").offset().top,s=this.amountItem-this.count;o>=e-100&&this.count+t<=this.amountItem?(i.pushContainer(this.count,t,this.gifCol),this.count+=t):o>=e-100&&s<t&&(i.pushContainer(this.count,s,this.gifCol),this.count+=s)}},n={result:[],searchItems:function(t){for(var e=0;e<gifObj.items.length;e++)~gifObj.items[e].keys.indexOf(t)&&this.result.push(gifObj.items[e]);return this.result},showResult:function(e){this.result=[],this.searchItems(e),t.find("img").attr("src"," "),t.children().remove(),this.result.length<=o.amountStartItems?i.pushContainer(0,this.result.length,this.result):i.pushContainer(0,o.amountStartItems,this.result),s.gifCol=this.result,s.count=o.amountStartItems}},a={tagsArr:[],sortTags:function(){for(var t={},e=0;e<gifObj.items.length;e++)for(var o=0;o<gifObj.items[e].keys.length;o++){var s=gifObj.items[e].keys[o];t[s]?t[s]+=1:t[s]=1}for(var n in t)this.tagsArr.push({name:n,value:t[n]});return this.tagsArr.sort(function(t,e){return e.value-t.value}),this.tagsArr},allTags:function(){$(".hash").append('<div class="container-fluid"><div class="row"><ul class="all-tags"></ul></div></div>');for(var t=$(".all-tags"),e=0;e<this.tagsArr.length;e++)t.append("<li>#"+this.tagsArr[e].name+"</li>")},mostPopular:function(){$(".most-popular").append('<div class="popular"></div>');for(var t=$(".popular"),e=t.width(),s=0,n=0;n<o.amountPopularTags&&!(s>e-100);n++)t.append("<li>#"+this.tagsArr[n].name+"</li>"),s+=t.find("li").eq(n).outerWidth(!0)+5}},i={createItem:function(e,o){t.append('<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 "><div class="thumb"><img src="'+e+'">\n   <ul class="tags">\n       <li>'+(o[0]?"#"+o[0]:"")+"</li>\n       <li>"+(o[1]?"#"+o[1]:"")+"</li>\n       <li>"+(o[2]?"#"+o[2]:"")+"</li>\n       <li>"+(o[3]?"#"+o[3]:"")+"</li>\n       <li>"+(o[4]?"#"+o[4]:"")+"</li>\n  </ul></div></div>")},pushContainer:function(t,e,o){for(var s=t;s<t+e;s++)this.createItem(o[s].src,o[s].keys)}};Object.defineProperty(s,"amountItem",{get:function(){return this.gifCol.length}}),i.pushContainer(0,o.amountStartItems,gifObj.items),a.sortTags(),$("body").prepend('<div class="done done-top"></div><div class="done done-bot"></div><div class="position"></div>'),$(".most-popular").append(a.mostPopular()),$(".hash").append(a.allTags()),e.on("click","li",function(t){var e=$(this).text().slice(1);n.showResult(e),$(".close").show(),t.stopPropagation()}),$(".close").on("click",function(){$(".start").children().remove(),s.gifCol=gifObj.items,s.count=0,s.loadContent(o.amountLoadedItem),$(".close").hide()}),e.on("click",".thumb",function(){window.getSelection().removeAllRanges();var e=$(this).find("img").attr("src"),o=e.slice(0,e.length-2)+"orig";t.append('<p class="select">'+o+"</p>");try{var s=document.querySelector(".select"),n=document.createRange();n.selectNode(s),window.getSelection().addRange(n),document.execCommand("copy"),window.getSelection().removeAllRanges(),$(".select").remove(),$(".done").removeClass("done-error").addClass("done-successful").fadeIn(100),setTimeout(function(){$(".done").fadeOut(500)},200)}catch(t){$(".done").removeClass("done-successful").addClass("done-error").fadeIn(40),setTimeout(function(){$(".done").fadeOut(400)},130)}}),$(".show-more").on("click",function(){var t=$(this).find("i");t.hasClass("fa-chevron-up")?($(".all-tags").slideUp(),t.toggleClass("fa-chevron-up"),t.toggleClass("fa-chevron-down"),$(".most-popular").empty().append(a.mostPopular())):($(".all-tags").slideDown(),$(".most-popular").empty().append("<h3>all tags</h3>"),t.toggleClass("fa-chevron-up"),t.toggleClass("fa-chevron-down"))}),$(".btn-top").on("click",function(){$("html").animate({scrollTop:0},500)}),$(window).on("scroll",function(){s.loadContent(o.amountLoadedItem),$(window).scrollTop()>=200?$(".btn-top").fadeIn(200):$(".btn-top").fadeOut(200)})});
=======
$(function(){var t=$(".start"),e=$("#page"),o={amountStartItems:20,amountLoadedItem:20,amountPopularTags:25},s={count:o.amountStartItems,gifCol:gifObj.items,loadContent:function(t){var e=$(document).height(),o=$(".position").offset().top,s=this.amountItem-this.count;o>=e-100&&this.count+t<=this.amountItem?(i.pushContainer(this.count,t,this.gifCol),this.count+=t):o>=e-100&&s<t&&(i.pushContainer(this.count,s,this.gifCol),this.count+=s)}},n={result:[],searchItems:function(t){for(var e=0;e<gifObj.items.length;e++)~gifObj.items[e].keys.indexOf(t)&&this.result.push(gifObj.items[e]);return this.result},showResult:function(e){this.result=[],this.searchItems(e),t.find("img").attr("src"," "),t.children().remove(),this.result.length<=o.amountStartItems?i.pushContainer(0,this.result.length,this.result):i.pushContainer(0,o.amountStartItems,this.result),s.gifCol=this.result,s.count=o.amountStartItems}},a={tagsArr:[],sortTags:function(){for(var t={},e=0;e<gifObj.items.length;e++)for(var o=0;o<gifObj.items[e].keys.length;o++){var s=gifObj.items[e].keys[o];t[s]?t[s]+=1:t[s]=1}for(var n in t)this.tagsArr.push({name:n,value:t[n]});return this.tagsArr.sort(function(t,e){return e.value-t.value}),this.tagsArr},allTags:function(){$(".hash").append('<div class="container-fluid"><div class="row"><ul class="all-tags"></ul></div></div>');for(var t=$(".all-tags"),e=0;e<this.tagsArr.length;e++)t.append("<li>#"+this.tagsArr[e].name+"</li>")},mostPopular:function(){$(".most-popular").append('<div class="popular"></div>');for(var t=$(".popular"),e=t.width(),s=0,n=0;n<o.amountPopularTags&&!(s>e-100);n++)t.append("<li>#"+this.tagsArr[n].name+"</li>"),s+=t.find("li").eq(n).outerWidth(!0)+5}},i={createItem:function(e,o){t.append('<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 "><div class="thumb"><img src="'+e+'">\n   <ul class="tags">\n       <li>'+(o[0]?"#"+o[0]:"")+"</li>\n       <li>"+(o[1]?"#"+o[1]:"")+"</li>\n       <li>"+(o[2]?"#"+o[2]:"")+"</li>\n       <li>"+(o[3]?"#"+o[3]:"")+"</li>\n       <li>"+(o[4]?"#"+o[4]:"")+"</li>\n  </ul></div></div>")},pushContainer:function(t,e,o){for(var s=t;s<t+e;s++)this.createItem(o[s].src,o[s].keys)}};Object.defineProperty(s,"amountItem",{get:function(){return this.gifCol.length}}),i.pushContainer(0,o.amountStartItems,gifObj.items),a.sortTags(),$("body").prepend('<div class="done done-top"></div><div class="done done-bot"></div><div class="position"></div>'),$(".most-popular").append(a.mostPopular()),$(".hash").append(a.allTags()),e.on("click","li",function(t){var e=$(this).text().slice(1);n.showResult(e),$(".close").show(),t.stopPropagation()}),$(".close").on("click",function(){$(".start").children().remove(),s.gifCol=gifObj.items,s.count=0,i.pushContainer(0,o.amountStartItems,gifObj.items),s.loadContent(o.amountLoadedItem),$(".close").hide()}),e.on("click",".thumb",function(){window.getSelection().removeAllRanges();var e=$(this).find("img").attr("src"),o=e.slice(0,e.length-2)+"orig";t.append('<p class="select">'+o+"</p>");try{var s=document.querySelector(".select"),n=document.createRange();n.selectNode(s),window.getSelection().addRange(n),document.execCommand("copy"),window.getSelection().removeAllRanges(),$(".select").remove(),$(".done").removeClass("done-error").addClass("done-successful").fadeIn(100),setTimeout(function(){$(".done").fadeOut(500)},200)}catch(t){$(".done").removeClass("done-successful").addClass("done-error").fadeIn(40),setTimeout(function(){$(".done").fadeOut(400)},130)}}),$(".show-more").on("click",function(){var t=$(this).find("i");t.hasClass("fa-chevron-up")?($(".all-tags").slideUp(),t.toggleClass("fa-chevron-up"),t.toggleClass("fa-chevron-down"),$(".most-popular").empty().append(a.mostPopular())):($(".all-tags").slideDown(),$(".most-popular").empty().append("<h3>all tags</h3>"),t.toggleClass("fa-chevron-up"),t.toggleClass("fa-chevron-down"))}),$(".btn-top").on("click",function(){$("html").animate({scrollTop:0},500)}),$(window).on("scroll",function(){s.loadContent(o.amountLoadedItem),$(window).scrollTop()>=200?$(".btn-top").fadeIn(200):$(".btn-top").fadeOut(200)})});
>>>>>>> 382018b6e0d18903c4a072af7eae2dd675384e86
